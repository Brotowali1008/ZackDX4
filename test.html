<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>CodePen - Test Video Player By Shaka Player</title>
  

</head>
<body>
<!-- partial:index.partial.html -->
<!DOCTYPE html>

<html>

  <head>

    <!-- Shaka Player ui compiled library: -->

    <script src="https://cdn.jsdelivr.net/npm/shaka-player@4.1.2/dist/shaka-player.ui.js"></script>

    <!-- Shaka Player ui compiled library default CSS: -->

    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/shaka-player@4.1.2/dist/controls.css">

    <!-- Chromecast SDK (if you want Chromecast support for your app): -->

    <script defer src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"></script>

    

  </head>

  <body>

    <!-- The data-shaka-player-container tag will make the UI library place the controls in this div.

         The data-shaka-player-cast-receiver-id tag allows you to provide a Cast Application ID that

           the cast button will cast to; the value provided here is the sample cast receiver. -->

    <div data-shaka-player-container style="max-width:"

         data-shaka-player-cast-receiver-id="1BA79154">

       <!-- The data-shaka-player tag will make the UI library use this video element.

            If no video is provided, the UI will automatically make one inside the container div. -->

      <video autoplay data-shaka-player poster="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRS02v1sIbCj8pSFwHV4TBnGPSTDTw2n_w3lA&usqp=CAU" id="video" style="width:100%;height:100%"></video>

    </div>

  </body>

</html>
<!-- partial -->
<script>
const manifestUri = 'https://d25tgymtnqzu8s.cloudfront.net/smil:tv6/manifest.mpd';
async function init() {
const video = document.getElementById('video');
const ui = video['ui'];
const controls = ui.getControls();
const player = controls.getPlayer();
window.player = player;
window.ui = ui;
player.addEventListener('error', onPlayerErrorEvent);
controls.addEventListener('error', onUIErrorEvent);
try {
await player.load(manifestUri);
console.log('The video has now been loaded!');
} catch (error) {
onPlayerError(error);

  }

}
function onPlayerErrorEvent(errorEvent) {
onPlayerError(event.detail);
}
function onPlayerError(error) {
console.error('Error code', error.code, 'object', error);

}

function onUIErrorEvent(errorEvent) {
onPlayerError(event.detail);

}

function initFailed(errorEvent) {
console.error('Unable to load the UI library!');

}

document.addEventListener('shaka-ui-loaded', init);
document.addEventListener('shaka-ui-load-failed', initFailed);
</script>

</body>
</html>
